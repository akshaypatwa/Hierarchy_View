<!DOCTYPE html>
<html lang="en-US">
<body>

<h1>My Web Page</h1>

<div id="piechart"></div>
<div id="piechartdata"></div>
<div id="piechartdatatable"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
 var arrValues = [['New', 'Assigned', 'In Progress', 'Completed', 'Closed'],[0,0,0,0,0]];        // DEFINE AN ARRAY.
  /*for(var i = 0; i < arrValues.length; i++) {
		 for(var j = 0; j < arrValues[i].length; j++)if(arrValues[i]=="New")
  }*/
  
  /*for(var j = 0; j < arrValues[0].length; j++)
  {
	alert("arrValues[0][j]: "+arrValues[0][j]+"         "+"arrValues[1][j]: "+arrValues[1][j]);
	if(arrValues[0][j]=="New")arrValues[1][j]=arrValues[1][j]+1;
	alert("arrValues[1][j]: "+arrValues[1][j]);
  }
  console.table(arrValues);*/
var reqdataA=[ {
													"Request ID":"INC2509",
													"Request Type":"Incident",
													"Priority":"Critical",
													"Summary":"SunRise1",
												  "Assignee Group":"Back Office",
												  "Status":"New"
												},
												{
													"Request ID":"INC2601",
													"Request Type":"Incident",
													"Priority":"Low",
													"Summary":"Test",
												  "Assignee Group":"Backoffice Support",
												  "Status":"Assigned"
												},
												{
													"Request ID":"INC2701",
													"Request Type":"Incident",
													"Priority":"High",
													"Summary":"Relationship Use Case",
												  "Assignee Group":"Frontoffice Support",
												  "Status":"Closed"
												},
												{
													"Request ID":"INC2990",
													"Request Type":"Incident",
													"Priority":"Medium",
													"Summary":"TestSummary",
												  "Assignee Group":"Service Desk",
												  "Status":"In Progress"
												},
												{
													"Request ID":"INC2992",
													"Request Type":"Incident",
													"Priority":"Critical",
													"Summary":"Summary1234",
												  "Assignee Group":"Service Desk",
												  "Status":"Completed"
												},
												{
													"Request ID":"INC2492",
													"Request Type":"Incident",
													"Priority":"Low",
													"Summary":"Test1234",
												  "Assignee Group":"Frontoffice Support",
												  "Status":"In Progress"
												}
											 ];
											 
var reqdataB=[ {
													"Request ID":"INC2510",													
													"Priority":"Low",
													"Summary":"INC2510Summary",
													"Parent":"",
												  "Status":"New"
												},
												{
													"Request ID":"INC3841",													
													"Priority":"Low",
													"Summary":"Test",
												  "Status":"Assigned"
												},
												{
													"Request ID":"INC4587",													
													"Priority":"High",
													"Summary":"Use Case 27",
												  "Status":"Assigned"
												},
												{
													"Request ID":"INC4561",													
													"Priority":"Medium",
													"Summary":"TestSummary",
												  "Status":"In Progress"
												},
												{
													"Request ID":"INC2412",													
													"Priority":"Critical",
													"Summary":"Summary1234",
												  "Status":"Completed"
												},
												{
													"Request ID":"INC2147",													
													"Priority":"Low",
													"Summary":"Test1234",
												  "Status":"In Progress"
												}
											 ];
											 
										var completejson = reqdataA.concat(reqdataB);
										console.table(completejson);
										
										var dataA={"New": 20,"Assigned": 25,"In Progress": 15,"Completed": 24,"Closed": 14};
										//dataFromJSON =JSON.parse(dataA);	
										dataFromJSON =dataA;
										//tablejsondata=reqdataA;
										tablejsondata=completejson;
										console.table(tablejsondata);
										var tabledt=" <table id='myTable'><thead><tr><th onclick='sortTable(0)'>Request ID<th><b>#</b><i class='fa fa-fw fa-sort'></i></th></th><th onclick='sortTable(1)'>Request Type</th><th onclick='sortTable(2)'>Priority</th><th onclick='sortTable(3)'>Summary</th><th onclick='sortTable(4)'>Assignee Group</th><th onclick='sortTable(5)'>Status</th></tr></thead><tbody>"
										 for (key in tablejsondata) {
											    tabledt+="<tr>";//+ key +"</td><td>"+tablejsondata[key];  
												 alert("key: "+key);
												 for(var j = 0; j < arrValues[0].length; j++)
												  {
													alert("arrValues[0][j]: "+arrValues[0][j]+"         "+"arrValues[1][j]: "+arrValues[1][j]);
													if(arrValues[0][j]==tablejsondata[key].Status)arrValues[1][j]=arrValues[1][j]+1;
													alert("arrValues[1][j]: "+arrValues[1][j]);
												  }
											  //console.table(arrValues);	
											 for (x in tablejsondata[key]) {
												
												 tabledt=tabledt+"<td>"+tablejsondata[key][x]+"</td>";    
												 alert(tablejsondata[key]+": "+tablejsondata[key][x]+"        "+"tablejsondata[key].Status: "+tablejsondata[key].Status)
											 }
											 tabledt+="</tr>";
											//alert(key +"="+tablejsondata[key]+": "+typeof tablejsondata[key]+": "+Array.isArray(tablejsondata[key]));
										}
										console.table(arrValues);	
										tabledt=tabledt+"</tbody></table>";
										document.getElementById('piechartdata').innerHTML=tablejsondata;
										document.getElementById('piechartdatatable').innerHTML=tabledt;
										alert(tablejsondata[0]);
var dataB={"New": 10,"Assigned": 15,"In Progress": 5,"Completed":4,"Closed": 4};
  var data = new google.visualization.DataTable();
							  data.addColumn("string", "Status");
							  data.addColumn("number", "Count");
							 // data.addRows(dataB);
                              
            /*for (var i = 0; i < dataB.length; i++) {
                data.addRow([dataB[i].Status, jsonData[i].Count]);
            }*/

/* for (key in dataB) {
 	 data.addRow([key, dataB[key]]);        
    }*/
	
	for(var j = 0; j < arrValues[0].length; j++)
	{
		//alert("arrValues[0][j]: "+arrValues[0][j]+"         "+"arrValues[1][j]: "+arrValues[1][j]);
		//if(arrValues[0][j]==tablejsondata[key].Status)arrValues[1][j]=arrValues[1][j]+1;
		data.addRow([arrValues[0][j], arrValues[1][j]]);        
		//alert("arrValues[1][j]: "+arrValues[1][j]);
	}

  /*var data = google.visualization.arrayToDataTable([
  ['Task', 'Hours per Day'],
  ['Work', 8],
  ['Eat', 2],
  ['TV', 4],
  ['Gym', 2],
  ['Sleep', 8]
]);*/

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'My Average Day', 'width':550, 'height':400, pieStartAngle: 20, legend:{position: 'labeled'}, 'is3D':true};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>

</body>
</html>
